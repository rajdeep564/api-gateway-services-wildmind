# ============================================
# PRODUCTION ENVIRONMENT VARIABLES
# ============================================
# Copy this file to .env and fill in your production values
# DO NOT commit .env to version control
# Use your deployment platform's environment variable settings

# ============================================
# Core Configuration
# ============================================
NODE_ENV=production
PORT=5000
LOG_LEVEL=info

# ============================================
# Authentication & Security
# ============================================
# Cookie domain for production (CRITICAL for cross-subdomain auth)
# Use leading dot for subdomain sharing: .wildmindai.com
COOKIE_DOMAIN=.wildmindai.com
# Main frontend URL(s) - single URL or comma-separated list
# Supports: https://www.wildmindai.com OR https://www.wildmindai.com,https://wildmindai.com,https://studio.wildmindai.com
FRONTEND_ORIGIN=https://www.wildmindai.com,https://wildmindai.com,https://studio.wildmindai.com
# Additional allowed CORS origins (for external/third-party domains)
ALLOWED_ORIGINS=
# Whether to revoke Firebase refresh tokens on login
REVOKE_FIREBASE_TOKENS=true
# Whether to strictly check for token revocation on every request
AUTH_STRICT_REVOCATION=false

# ============================================
# Firebase Configuration (Required)
# ============================================
FIREBASE_API_KEY=your-production-firebase-api-key
FIREBASE_AUTH_DOMAIN=your-project.firebaseapp.com
FIREBASE_PROJECT_ID=your-production-project-id
FIREBASE_STORAGE_BUCKET=your-project.appspot.com
FIREBASE_MESSAGING_SENDER_ID=123456789
FIREBASE_APP_ID=1:123456789:web:abcdef
# Firebase Service Account JSON (stringified)
FIREBASE_SERVICE_ACCOUNT={"type":"service_account","project_id":"..."}

# ============================================
# Storage (Zata/S3)
# ============================================
ZATA_ENDPOINT=https://idr01.zata.ai
ZATA_BUCKET=your-production-bucket-name
ZATA_REGION=us-east-1
ZATA_ACCESS_KEY_ID=your-production-access-key-id
ZATA_SECRET_ACCESS_KEY=your-production-secret-access-key
ZATA_FORCE_PATH_STYLE=true
# Zata storage prefix URL
ZATA_PREFIX=https://idr01.zata.ai/devstoragev1/

# ============================================
# Redis (Caching) - Recommended for production
# ============================================
# Redis connection string (e.g., from Redis Cloud, Upstash, etc.)
REDIS_URL=redis://user:password@host:port
REDIS_PREFIX=sess:app:
REDIS_DEBUG=false

# ============================================
# AI Services API Keys
# ============================================
BFL_API_KEY=your-production-bfl-api-key
FAL_KEY=your-production-fal-key
REPLICATE_API_KEY=your-production-replicate-api-key
GOOGLE_GENAI_API_KEY=your-production-google-genai-api-key
RUNWAY_API_KEY=your-production-runway-api-key
MINIMAX_API_KEY=your-production-minimax-api-key
MINIMAX_GROUP_ID=your-production-minimax-group-id

# ============================================
# API Base URLs (Optional - defaults provided)
# ============================================
# These have defaults but can be overridden if needed
# MINIMAX_API_BASE=https://api.minimax.io/v1
# RESEND_API_BASE=https://api.resend.com
# FAL_QUEUE_BASE=https://queue.fal.run
# FIREBASE_AUTH_API_BASE=https://identitytoolkit.googleapis.com/v1
# BFL_API_BASE=https://api.bfl.ai

# ============================================
# Email Configuration (SMTP)
# ============================================
# Production email service (recommended: Resend or SendGrid)
# Option 1: Resend.com (recommended for production)
RESEND_API_KEY=re_xxxxxxxxxxxxx
SMTP_FROM=noreply@wildmindai.com

# Option 2: Gmail App Password (not recommended for production)
# EMAIL_USER=your-email@gmail.com
# EMAIL_APP_PASSWORD=your-app-password

# Option 3: Generic SMTP
# SMTP_HOST=smtp.sendgrid.net
# SMTP_PORT=587
# SMTP_USER=apikey
# SMTP_PASS=your-sendgrid-api-key
# SMTP_FROM=noreply@wildmindai.com

# Gmail SMTP Configuration (if using Gmail)
# GMAIL_SMTP_HOST=smtp.gmail.com
# GMAIL_SMTP_PORT=465

# Email sending behavior (await email send in production for reliability)
OTP_EMAIL_AWAIT=true

# ============================================
# Frontend Domains
# ============================================
PRODUCTION_DOMAIN=https://wildmindai.com
PRODUCTION_WWW_DOMAIN=https://www.wildmindai.com
PRODUCTION_STUDIO_DOMAIN=https://studio.wildmindai.com

# ============================================
# Development URLs (Not used in production, but kept for reference)
# ============================================
# DEV_FRONTEND_URL=http://localhost:3000
# DEV_CANVAS_URL=http://localhost:3001
# DEV_BACKEND_URL=http://localhost:5001

# ============================================
# External Services
# ============================================
# API Gateway URL (for CSP - use your actual production API URL)
API_GATEWAY_URL=https://api.wildmindai.com

# Disposable email domains list URL
# DISPOSABLE_EMAIL_DOMAINS_URL=https://raw.githubusercontent.com/disposable/disposable-email-domains/master/domains.json

# ============================================
# Local Services (Optional - if using external services)
# ============================================
# Aesthetic scoring service URL (if using external service)
# SCORE_LOCAL=https://scoring-service.yourdomain.com
# Prompt enhancer service URL (if using external service)
# PROMPT_ENHANCER_URL=https://prompt-enhancer.yourdomain.com

# ============================================
# BFL Polling Configuration
# ============================================
BFL_POLL_INTERVAL_MS=2000
BFL_POLL_MAX_LOOPS=30

# ============================================
# Redeem Code Admin Key (Required for admin operations)
# ============================================
REDEEM_CODE_ADMIN_KEY=your-secure-admin-key-here

# ============================================
# Debug Options (DISABLED in production)
# ============================================
# Never expose OTP codes in production
DEBUG_OTP=false

